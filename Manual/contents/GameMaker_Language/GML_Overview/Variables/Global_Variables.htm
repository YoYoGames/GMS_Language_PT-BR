<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Variáveis globais</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Page explaining global variables" />
  <meta name="rh-index-keywords" content="global,globalvar,Global Variables" />
  <meta name="search-keywords" content="global,global variables,globalvar" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>Variáveis globais</h1>
  <p>Uma descrição básica de uma variável <strong>global </strong>é aquela que, uma vez declarada, não pertence a nenhuma instância em particular e ainda pode ser acessada por todos. Assim como as <a href="Local_Variables.htm">variáveis locais</a>, as variáveis globais devem ser declaradas
    usando um identificador, mas ao contrário de uma variável local, uma variável global permanece na memória <em>até o final do</em> jogo. Assim, você pode criar uma variável global para acompanhar (por exemplo) o número de balas que o jogador tem e depois apenas atualizar
    esta variável em diferentes pontos do jogo, forma qualquer instância ou função e em qualquer momento. Essencialmente, uma variável global não pertence a nenhuma instância específica e pode ser acessada, alterada e utilizada por todas as instâncias, e quaisquer alterações feitas no
    são &quot;globais&quot;, na medida em que todas as instâncias que utilizam a variável serão afetadas pela mudança. Vejamos um exemplo:</p>
  <p class="code">global.food = 5;</p>
  <p>Declaramos a variável &quot;<span class="inline">food</span>&quot; escrevendo primeiro &quot;<span class="inline">global</span>&quot; e depois uma &quot;<span class="inline">.</span>&quot; para dizer ao GameMaker Studio 2 que esta <span class="notranslate">variável é agora</span> de escopo global.
    A partir de agora, precisaremos usar este formulário a qualquer momento que formos obrigados a acessar ou alterar esta variável de qualquer forma. Portanto, criamos uma nova variável chamada &quot;<span class="inline">food</span>&quot; e a declaramos como global. Agora, qualquer
    instância ou função pode usar e alterar esta variável de qualquer forma e todas as outras instâncias irão &quot;ver&quot; isto. Por exemplo, podemos ter um objeto alimentar diferente com o qual o jogador colide e no evento de colisão que temos:</p>
  <p class="code">global.food +=1;</p>
  <p>Temos também outro objeto que extrai este valor assim:</p>
  <p class="code">draw_text(32, 32, &quot;food =&quot; + string(global.food));</p>
  <p>Com variáveis globais, podemos mudar os valores e ver essas mudanças refletidas em todas as instâncias dos objetos que fazem referência a essa variável. Como com as variáveis <i>locais</i>, é preciso tomar cuidado para não nomear suas variáveis globais da mesma forma que em qualquer instância.
    variáveis, pois isso pode lhe causar problemas e fazer com que os erros se insinuem em seus jogos devido à sobreposição de variáveis, o que pode ser um problema difícil de depurar às vezes. Em geral, você deve ter um único objeto que declare todas as suas variáveis globais no mesmo
    início do jogo (por exemplo, no <a href="../../../The_Asset_Editors/Object_Properties/Other_Events.htm">evento Room Start</a> da primeira instância do objeto colocado na primeira sala do jogo) ou uma única <a href="../Script_Functions.htm">função de roteiro</a> que os declara todos juntos, pois isso lhe dá um lugar útil para voltar e referenciar tudo de uma só vez caso você precise verificar um nome de variável ou editar um valor.</p>
  <p>O<span class="notranslate">GameMaker Studio 2</span> também tem uma coleção de variáveis globais &quot;incorporadas&quot;, então você deve estar ciente delas, pois pode nomear uma de suas variáveis de instância como a mesma ou desejar ter sua própria variável global com o mesmo nome e se perguntar por que você está
    recebendo erros! No entanto, são fáceis de identificar, pois são mostrados em uma cor diferente no editor de código e também aparecem na barra de auto-completar na parte inferior. A maioria das variáveis globais incorporadas são muito específicas e só serão utilizadas em
    raras ocasiões - e estão listadas nas seções apropriadas do manual - mas há uma importante que é usada com freqüência e não está listada em nenhum outro lugar:</p>
  <ul class="colour">
    <li><a href="Builtin_Global_Variables/async_load.htm"><tt>async_load</tt></a></li>
  </ul>
  <p>Há também três variáveis globais <b>obsoletas</b> que você deve estar ciente (estas variáveis são apenas projetadas para suportar projetos legados de versões anteriores do <span class="notranslate">GameMaker</span> e devem <b><i>não ser utilizado em novos projetos</i></b>):</p>
  <ul class="colour">
    <li><a href="Builtin_Global_Variables/score.htm"><tt>pontuação</tt></a></li>
    <li><a href="Builtin_Global_Variables/health.htm"><tt>saúde</tt></a></li>
    <li><a href="Builtin_Global_Variables/lives.htm"><tt>vive</tt></a></li>
  </ul>
  <p>Finalmente, há duas variáveis que podem ser usadas para funções e métodos de script:</p>
  <ul class="colour">
    <li><a href="Builtin_Global_Variables/argument.htm">argumento</a></li>
    <li><a href="Builtin_Global_Variables/argument_count.htm">argument_count</a></li>
  </ul>
  <p>O seguinte formulário também pode ser usado para declarar variáveis globais, mas é <i><b>incluído apenas para compatibilidade com versões anteriores</b></i>e não é recomendado que você utilize este formulário para novos projetos, pois futuras versões do <span class="notranslate">GameMaker</span> podem não apoiá-lo.</p>
  <p>A segunda forma de criar variáveis globais é declará-las como tais usando a declaração <tt>globalvar</tt>, da mesma forma que você faria com uma variável local usando a declaração <tt>var</tt>.</p>
  <p class="note"><b>IMPORTANTE!</b> A declaração <tt>globalvar</tt> é <b>depreciada</b> e suportada apenas para fins de legado. Você deve <b>sempre</b> usar o identificador <tt>global.</tt> para marcar variáveis globais.</p>
  <p>Esta declaração (depreciada) seria utilizada da seguinte forma:</p>
  <p class="code">globalvar food;<br> food = 5;</p>
  <p>Uma vez declarada desta forma, a variável &quot;alimento&quot; agora é considerada global e não requer <tt>prefixo</tt> global, o que também significa que é muito mais difícil identificar variáveis globais em seu código e também é muito mais fácil obter a variável
    sobrepor-se, pois você usa o mesmo nome variável em objetos diferentes ou a partir de extensões que você instalou. Uma vez declarada desta forma, a variável global é acessada da seguinte forma:</p>
  <p class="code">alimentos += 2;</p>
  <p>ou:</p>
  <p class="code">draw_text(32, 32, &quot;comida = &quot; + string(comida));</p>
  <p>Como você pode ver, sem nada para mostrar que a variável é global no escopo, você está se preparando potencialmente para muitos problemas sutis que possam surgir em seu jogo, e é por isso que esta declaração deve ser evitada.</p>
  <p>Há algumas funções projetadas para ajudá-lo ao lidar com variáveis globais, que você pode encontrar na página seguinte:</p>
  <ul class="colour">
    <li><a href="../../GML_Reference/Variable_Functions/Variable_Functions.htm">Funções variáveis</a></li>
  </ul>
  <p> </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Voltar: <a href="../Variables_And_Variable_Scope.htm">Variáveis e Escopo de Variáveis</a></div>
        <div style="float:right">A seguir: <a href="Constants.htm">Constantes</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Todos os direitos reservados</span></h5>
  </div>
  <!-- KEYWORDS
global
globalvar
global variables
-->
  <!-- TAGS
global_variables
-->
</body>
</html>