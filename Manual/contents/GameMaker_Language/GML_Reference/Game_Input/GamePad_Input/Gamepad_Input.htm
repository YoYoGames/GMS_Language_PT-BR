<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Entrada Gamepad</title>
  <meta name="generator" content="Adobe RoboHelp 2019" />
  <link rel="stylesheet" href="../../../../assets/css/default.css" type="text/css" />
  <meta name="rh-authors" content="Mark Alexander" />
  <meta name="topic-comment" content="Reference section for Gamepad Input" />
  <meta name="rh-index-keywords" content="gp_face1,gp_face2,gp_face3,gp_face4,gp_shoulderl,gp_shoulderlb,gp_shoulderr,gp_shoulderrb,gp_select,gp_start,gp_stickl,gp_stickr,gp_padu,gp_padd,gp_padl,gp_padr,gp_axislh,gp_axislv,gp_axisrh,gp_axisrv,gp_axis_acceleration_x,gp_axis_acceleration_y,gp_axis_acceleration_z,gp_axis_angular_velocity_x,gp_axis_angular_velocity_y,gp_axis_angular_velocity_z,gp_axis_orientation_x,gp_axis_orientation_y,gp_axis_orientation_z,gp_axis_orientation_w" />
  <meta name="search-keywords" content="Gamepad Input,gamepads,gp_face1,gp_face2,gp_face3,gp_face4,gp_shoulderl,gp_shoulderlb,gp_shoulderr,gp_shoulderrb,gp_select,gp_start,gp_stickl,gp_stickr,gp_padu,gp_padd,gp_padl,gp_padr,gp_axislh,gp_axislv,gp_axisrh,gp_axisrv,gp_axis_acceleration_x,gp_axis_acceleration_y,gp_axis_acceleration_z,gp_axis_angular_velocity_x,gp_axis_angular_velocity_y,gp_axis_angular_velocity_z,gp_axis_orientation_x,gp_axis_orientation_y,gp_axis_orientation_z,gp_axis_orientation_w" />
</head>
<body>
  <!--<div class="body-scroll" style="top: 150px;">-->
  <h1>GamepadInput</h1>
  <p><b></b><span class="notranslate">GameMaker Studio 2</span> tem uma série de funções dedicadas que podem ser usadas para detectar controles analógicos e digitais a partir de múltiplos gamepads conectados. Estas funções funcionam de forma similar às <a href="../Device_Input/Device_Input.htm">Entradas do Dispositivo</a>,
    na medida em que você pode detectar até quatro pastilhas de jogo XInput diferentes que estão conectadas (e até 8 pastilhas de jogo DirectInput) e lidar com a entrada de cada uma usando as mesmas funções. Observe que quando um gamepad é conectado ao seu dispositivo (ou é removido)
    então um <a href="../../../../The_Asset_Editors/Object_Properties/Async_Events.htm">Evento de Sistema</a> Assíncrono é acionado onde você pode lidar com a situação usando as funções apropriadas.</p>
  <p>Os &quot;slots&quot; do gamepad são indexados de 0 para cima, e o slot real que um gamepad designado dependerá de uma variedade de fatores, entre os quais não menos importante é o sistema operacional em que o projeto está sendo executado. Sobre o <strong><span class="notranslate">Windows</span></strong> alvo, slots 0 -
    3 inclusive são <i>apenas para os controles de jogo Xinput</i>, ou seja: controladores Xbox360 e compatíveis. No entanto, você também pode verificar os slots 4 - 11 inclusive para os controles de jogo <i>DirectInput</i>, o que significa que você pode detectar muitos outros modelos de controladores quando conectados
    através destes slots. Em outras plataformas, os blocos podem ser detectados em <em>qualquer</em> slot que o sistema operacional lhe tenha atribuído, que pode ser o slot 3 ou o slot 20 ou mais. Por exemplo, <strong><span class="notranslate">Android</span></strong> dispositivos armazenarão os tapetes de jogo bluetooth em um slot e depois reservarão
    esse slot para esse gamepad no futuro, seja ele conectado ou não, então você <em>não pode</em> assumir que um único gamepad conectado esteja conectado ao slot 0, pois provavelmente não será esse o caso.</p>
  <p>Vale notar que, ao usar os controles de jogo DirectInput no <span class="notranslate">Windows</span>, ou controles de jogo genéricos em outras plataformas, as constantes dadas abaixo <strong>podem não corresponder exatamente aos botões que você espera quando eles são pressionados</strong>, devido à fragmentação e
    forma não padronizada que a API é implementada pelos fabricantes de controladores. Devido a isso, é recomendável que você tenha algum tipo de tela de configuração do gamepad em seus jogos, onde as pessoas possam redefinir os botões do gamepad com base na entrada de qualquer
    para mitigar quaisquer problemas (há funções de &quot;mapeamento&quot; do gamepad que podem ajudar com isso no Windows <span class="notranslate">Desktop,</span> Ubuntu, <span class="notranslate">macOS</span> e <span class="notranslate">alvos</span> Android <span class="notranslate">,</span> enquanto em todos os outros você mesmo precisaria fazer isso usando código).</p>
  <h2>Constantes de entrada</h2>
  <p>Ao trabalhar com as funções do <span class="notranslate">GameMaker Studio 2</span>, a entrada pode vir de <strong>eixos</strong>, <strong>botões</strong> ou <strong>chapéus</strong>, que o <span class="notranslate">GameMaker Studio 2</span> atribuirá às seguintes constantes embutidas (note que &quot;chapéus&quot; são geralmente
    somente detectados em controladores não-padrão):</p>
  <table>
    <tbody>
      <tr>
        <th>Constante</th>
        <th>Descrição</th>
      </tr>
      <tr>
        <td><tt>gp_face1</tt></td>
        <td>Botão de cima 1 (este mapa para o <i>&quot;A&quot; em um</i> controlador Xbox 360 e a cruz em um controlador <i>PS</i> )</td>
      </tr>
      <tr>
        <td><tt>gp_face2</tt></td>
        <td>Botão de cima 2 (este mapa para o <i>&quot;B&quot; em um</i> controlador Xbox 360 e o círculo em <i>um</i> controlador <i>PS</i> )</td>
      </tr>
      <tr>
        <td><tt>gp_face3</tt></td>
        <td>Botão de cima 3 (este mapa para o <i>&quot;X&quot; em um</i> controlador Xbox 360 e o quadrado em <i>um</i> controlador <i>PS</i> )</td>
      </tr>
      <tr>
        <td><tt>gp_face4</tt></td>
        <td>Botão superior 4 (este mapa mostra o <i>&quot;Y&quot; em um</i> controlador Xbox 360 e o triângulo <i>em um</i> controlador <i>PS</i> )</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderl</tt></td>
        <td>Botão de ombro esquerdo</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderlb</tt></td>
        <td>Gatilho do ombro esquerdo</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderr</tt></td>
        <td>Botão de ombro direito</td>
      </tr>
      <tr>
        <td><tt>gp_shoulderrb</tt></td>
        <td>Gatilho de ombro direito</td>
      </tr>
      <tr>
        <td><tt>gp_select</tt></td>
        <td>O botão select (este é o botão <i>PS</i> em um controlador DS4)</td>
      </tr>
      <tr>
        <td><tt>gp_start</tt></td>
        <td>O botão start (este é o botão &quot;opções&quot; em um controlador PS4)</td>
      </tr>
      <tr>
        <td><tt>gp_stickl</tt></td>
        <td>O bastão esquerdo pressionado (como um botão)</td>
      </tr>
      <tr>
        <td><tt>gp_stickr</tt></td>
        <td>O bastão direito pressionado (como um botão)</td>
      </tr>
      <tr>
        <td><tt>gp_padu</tt></td>
        <td>D-pad up</td>
      </tr>
      <tr>
        <td><tt>gp_padd</tt></td>
        <td>D-pad down</td>
      </tr>
      <tr>
        <td><tt>gp_padl</tt></td>
        <td>D-pad esquerda</td>
      </tr>
      <tr>
        <td><tt>gp_padr</tt></td>
        <td>Direito D-pad</td>
      </tr>
      <tr>
        <td><tt>gp_axislh</tt></td>
        <td>Vara esquerda eixo horizontal (analógico)</td>
      </tr>
      <tr>
        <td><tt>gp_axislv</tt></td>
        <td>Eixo vertical esquerdo da vara (analógico)</td>
      </tr>
      <tr>
        <td><tt>gp_axisrh</tt></td>
        <td>Eixo horizontal do bastão direito (analógico)</td>
      </tr>
      <tr>
        <td><tt>gp_axisrv</tt></td>
        <td>Eixo vertical do bastão direito (analógico)</td>
      </tr>
    </tbody>
  </table>
  <p>Para entender melhor exatamente que parte do controlador cada constante representa, você pode consultar a seguinte imagem de um gamepad padrão XInput:</p>
  <p><img alt="Xinput gamepad illustration" class="center" src="../../../../assets/Images/Scripting_Reference/GML/Reference/Game_Input/GamePad.png" /></p>
  <p>As seguintes constantes podem ser usadas com o <tt><a href="gamepad_axis_value.htm">gamepad_axis_value()</a></tt> ao utilizar o controle de jogo DualSense em um PS4 ou PS5:</p>
  <table>
    <tbody>
      <tr>
        <th>Constante</th>
        <th>Descrição</th>
      </tr>
      <tr>
        <td><tt>gp_axis_acceleration_x</tt></td>
        <td>A aceleração do gamepad no eixo X</td>
      </tr>
      <tr>
        <td><tt>gp_axis_acceleration_y</tt></td>
        <td>A aceleração do gamepad no eixo Y</td>
      </tr>
      <tr>
        <td><tt>gp_axis_acceleration_z</tt></td>
        <td>A aceleração do gamepad no eixo Z</td>
      </tr>
      <tr>
        <td><tt>gp_eixo_angular_velocidade_x</tt></td>
        <td>A velocidade angular do gamepad no eixo X</td>
      </tr>
      <tr>
        <td><tt>gp_eixo_angular_velocidade_y</tt></td>
        <td>A velocidade angular do gamepad no eixo Y</td>
      </tr>
      <tr>
        <td><tt>gp_eixo_angular_velocidade_z</tt></td>
        <td>A velocidade angular do gamepad no eixo Z</td>
      </tr>
      <tr>
        <td><tt>gp_axis_orientation_x</tt></td>
        <td>A orientação X do gamepad</td>
      </tr>
      <tr>
        <td><tt>gp_axis_orientation_y</tt></td>
        <td>A orientação em Y do gamepad</td>
      </tr>
      <tr>
        <td><tt>gp_axis_orientation_z</tt></td>
        <td>A orientação Z do gamepad</td>
      </tr>
      <tr>
        <td><tt>gp_axis_orientation_w</tt></td>
        <td>A orientação W do gamepad</td>
      </tr>
    </tbody>
  </table>
  <p class="note"><strong>OBSERVAÇÃO</strong>: A orientação do gamepad é um Quaternion <a href="https://en.wikipedia.org/wiki/Quaternion" title="Quaternion">,</a> razão pela qual ele tem quatro valores (X, Y, Z e W).</p>
  <p>Estas constantes são atualmente suportadas apenas no PS4 e PS5, e quando usadas em outras plataformas as funções de entrada retornarão <tt>0</tt>, mesmo quando se usa um gamepad DualSense.</p>
  <h2>Funções</h2>
  <p>Abaixo você pode encontrar uma lista de todas as funções do gamepad:</p>
  <ul class="colour">
    <li><a href="gamepad_is_supported.htm">gamepad_is_supported</a></li>
    <li><a href="gamepad_is_connected.htm">gamepad_is_connected</a></li>
    <li><a href="gamepad_get_guid.htm">gamepad_get_guid</a></li>
    <li><a href="gamepad_get_device_count.htm">gamepad_get_device_count</a></li>
    <li><a href="gamepad_get_description.htm">gamepad_get_description</a></li>
    <li><a href="gamepad_get_button_threshold.htm">gamepad_get_button_threshold</a></li>
    <li><a href="gamepad_get_axis_deadzone.htm">gamepad_get_axis_deadzone</a></li>
    <li><a href="gamepad_get_option.htm">gamepad_get_option</a></li>
    <li><a href="gamepad_set_button_threshold.htm">gamepad_set_button_threshold</a></li>
    <li><a href="gamepad_set_axis_deadzone.htm">gamepad_set_axis_deadzone</a></li>
    <li><a href="gamepad_set_vibration.htm">gamepad_set_vibration</a></li>
    <li><a href="gamepad_set_colour.htm">gamepad_set_colour</a></li>
    <li><a href="gamepad_set_option.htm">gamepad_set_option</a></li>
    <li><a href="gamepad_axis_count.htm">gamepad_axis_count</a></li>
    <li><a href="gamepad_axis_value.htm">gamepad_axis_value</a></li>
    <li><a href="gamepad_button_check.htm">gamepad_button_check</a></li>
    <li><a href="gamepad_button_check_pressed.htm">gamepad_button_check_pressed</a></li>
    <li><a href="gamepad_button_check_released.htm">gamepad_button_check_released</a></li>
    <li><a href="gamepad_button_count.htm">gamepad_button_count</a></li>
    <li><a href="gamepad_button_value.htm">gamepad_button_value</a></li>
    <li><a href="gamepad_hat_count.htm">gamepad_hat_count</a></li>
    <li><a href="gamepad_hat_value.htm">gamepad_hat_value</a></li>
  </ul>
  <p> </p>
  <p>As seguintes funções do gamepad também existem e são usadas para refazer as constantes construídas para as entradas físicas diretas de um determinado gamepad. Estas funções são apenas para as plataformas alvo do <span class="notranslate">Windows</span> Desktop, <span class="notranslate">Ubuntu</span>, <span class="notranslate">MacOS</span> e <span class="notranslate">Android</span> e no <span class="notranslate">Windows</span>,
    eles só serão válidos para dispositivos de entrada direta. Enquanto o <span class="notranslate">GameMaker Studio 2</span> vem com mapeamentos para uma série de diferentes gamepads baseados no <a href="https://github.com/gabomdq/SDL_GameControllerDB" target="_blank">SDL Gamepad Controller DB</a>, no entanto
    devido ao enorme número de tipos e marcas de controladores por aí, é impossível mapear as constantes <span class="notranslate">GML</span> para as entradas corretas para cada marca e modelo, portanto, com estas funções você tem a possibilidade de criar seus próprios mapeamentos personalizados.</p>
  <p> </p>
  <ul class="colour">
    <li><a href="gamepad_get_mapping.htm">gamepad_get_mapping</a></li>
    <li><a href="gamepad_test_mapping.htm">gamepad_test_mapping</a></li>
    <li><a href="gamepad_remove_mapping.htm">gamepad_remove_mapping</a></li>
  </ul>
  <p> </p>
  <p>É importante notar que os controles de entrada direta são executados em <i>modo cooperativo</i>, o que significa que seu jogo só tem acesso a eles quando é a aplicação em primeiro plano, o que, por sua vez, fará com que os controladores de entrada direta sejam &quot;perdidos&quot; se o
    O jogo perde o foco e depois &quot;encontrado&quot; novamente quando volta ao foco (isto pode ser detectado no System Event e tratado). Da mesma forma, nenhuma entrada dos controles de jogo será detectada enquanto o jogo não estiver em foco, e nós recomendamos que você
    usar a função <a href="../../OS_And_Compiler/os_is_paused.htm"><tt>os_is_paused()</tt></a> ou <a href="../../Cameras_And_Display/The_Game_Window/window_has_focus.htm"><tt>window_has_focus()</tt></a> para detectar isso e pausar o jogo ou algo assim
    semelhante a qualquer botão que esteja sendo pressionado no momento em que o jogo perder o foco manterá o estado de retenção até que o jogo recupere o foco.</p>
  <p> </p>
  <h2>Compatibilidade</h2>
  <p>A lista a seguir mostra a compatibilidade atual entre as plataformas (note que isto mudará com futuras atualizações):</p>
  <ul class="colour">
    <li><strong><span class="notranslate">Windows</span> </strong>é totalmente suportado com até um máximo de 12 dispositivos conectados permitidos de uma só vez (numerados de 0 a 11, sendo 0 - 3 dispositivos XInput e 4 - 11 dispositivos DirectInput). A remoção das constantes do controlador também é permitida.</li>
    <li><strong><span class="notranslate">macOS</span> </strong>é suportado com até um máximo de 4 dispositivos conectados permitidos de uma vez, e estes dispositivos só podem ser do tipo <span class="notranslate">Playstation3</span>ou Xbox 360. Observe que a opção &quot;Build for Mac AppStore&quot; em Opções de Jogos Mac
      precisa estar DESLIGADO para o suporte de almofada para trabalhar. A remoção das constantes do controlador também é permitida.</li>
    <li><strong><span class="notranslate">Ubuntu</span> </strong>também suporta a entrada Gamepad, mas você pode precisar instalar bibliotecas adicionais a partir do repositório <span class="notranslate">Ubuntu</span>. Você pode fazer isto facilmente abrindo um terminal de linha de comando e digitando o seguinte (isto instalará suporte a GUI
      para o joystick/gamepad, bem como o próprio joystick/gamepad API - <i>não</i> é permitida a refilmagem das constantes do controlador):
     <p class="code">sudo apt-get install jstest-gtk<br> sudo apt-get install joystick.</p>
    </li>
    <li>Os jogos<strong>HTML5 </strong>que utilizam gamepads são suportados pela maioria dos principais navegadores, exceto o <i>Safari</i>. A remoção de constantes de controladores <i>não</i> é permitida.</li>
    <li>O apoio do Gamepad também se estende a <strong><span class="notranslate">iOS</span> </strong>com o gabinete iCade. O eixo esquerdo mapeia para o controlador do bastão (embora a entrada seja digital, não analógica), os quatro botões &quot;face&quot; mapeiam para os botões frontais do gabinete, e os quatro
      botões de ombro mapeados para aqueles na parte de trás do gabinete.</li>
    <li><strong><span class="notranslate">Android</span> </strong>(e <strong><span class="notranslate">Fogo da Amazônia</span></strong>) exportação suporta controladores NYKO e controladores genéricos Bluetooth, mas somente quando estiverem habilitados, o que significa que você terá que marcar a opção iCade/Bluetooth na seção <a href="../../../../Settings/Game_Options/Android.htm">Geral</a> das Opções de Jogo do <span class="notranslate">Android</span>. Eles requerem API nível 12 para que funcionem plenamente e deve ser observado que o <span class="notranslate">GameMaker Studio 2</span> registrará como conectado qualquer dispositivo Bluetooth com o qual seu dispositivo esteja emparelhado, seja ou não realmente
      conectado. Portanto, isto deve ser levado em consideração na atribuição e verificação de &quot;slots&quot;. Note que o remapeamento das constantes do controlador também é permitido.</li>
    <li>No <strong>PS4</strong>, se você quiser usar o rastreamento por toque, você precisa usar o <a href="../Device_Input/Device_Input.htm"><tt>dispositivo_mouse_*</tt></a> botões. A remoção das constantes do controlador <i>não</i> é permitida.</li>
    <li>Em <strong><span class="notranslate">Windows</span> </strong><strong>UWP</strong>, <strong>XBoxOne </strong>e <strong><span class="notranslate">Nintendo</span> <span class="notranslate">Troca</span></strong> alvos, os controles de jogo são totalmente suportados, mas o remapeamento das constantes do controlador <i>não</i> é permitido.</li>
  </ul>
  <p>Idealmente, em <i>todas as</i> plataformas alvo, você deseja enumerar uma lista de &quot;slots&quot; de gamepad disponíveis e então verificá-los para ver se algum dispositivo é detectado, algo como isto:</p>
  <p class="code">var _maxpads = gamepad_get_device_count();<br>
    <br> for (var i = 0; i &lt; _maxpads; i++)<br> {
    <br> if (gamepad_is_connected(i))<br> {
    <br> // fazer coisas com a almofada &quot;i&quot;<br> }
    <br> }
  </p>
  <p> </p>
  <p> </p>
  <div class="footer">
    <div class="buttons">
      <div class="clear">
        <div style="float:left">Voltar: <a href="../Game_Input.htm">Entrada de jogo</a></div>
        <div style="float:right">A seguir: <a href="../Virtual_Keys_And_Keyboards/Virtual_Keys_And_Keyboards.htm">Chaves e Teclados Virtuais</a></div>
      </div>
    </div>
    <h5><span data-keyref="Copyright Notice">© Copyright <span class="notranslate">YoYo Games Ltd.</span> 2021 Todos os direitos reservados</span></h5>
  </div>
  <!-- KEYWORDS
Gamepad Input Functions
gp_face1
gp_face2
gp_face3
gp_face4
gp_shoulderl
gp_shoulderlb
gp_shoulderr
gp_shoulderrb
gp_select
gp_start
gp_stickl
gp_stickr
gp_padu
gp_padd
gp_padl
gp_padr
gp_axislh
gp_axislv
gp_axisrh
gp_axisrv
gp_axis_acceleration_x
gp_axis_acceleration_y
gp_axis_acceleration_z
gp_axis_angular_velocity_x
gp_axis_angular_velocity_y
gp_axis_angular_velocity_z
gp_axis_orientation_x
gp_axis_orientation_y
gp_axis_orientation_z
gp_axis_orientation_w
-->
  <!-- TAGS
gamepad_functions
-->
</body>
</html>