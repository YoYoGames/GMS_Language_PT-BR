
  
  buffer_create
  Você usa esta função para alocar uma parte da memória como um buffer em seu jogo, com a função retornando a identificação única do buffer que deve ser armazenada em uma variável e usada para todas as outras chamadas de função para o buffer. O buffer pode então ser
    usado para armazenar diferentes tipos de dados (especificado quando você escreve no buffer usando o buffer_write() com as seguintes constantes sendo usadas para definir o tipo de buffer:
   
  
    
      
        Constante
        Descrição
      
      
        buffer_fixed
        Um buffer de tamanho fixo.
      
      
        buffer_grow
        Um buffer que irá "crescer" dinamicamente à medida que os dados são adicionados
      
      
        tampão_enrolador
        Um buffer onde os dados serão "embrulhados". Quando os dados a serem adicionados atingirem o limite do tamanho do buffer, a sobregravação será colocada de volta no início do buffer, e a escrita continuará a partir desse ponto.
      
      
        tampão_rápido
        Tampão especial "despojado" que é extremamente rápido de ler/escrever. Só pode ser usado com tipos de dados buffer_u8, e deve estar alinhado a 1 byte.
      
      
        buffer_vbuffer
        Este tipo de tampão deve ser usado somente como um tampão de vértice.
      
    
  
   
  Além do tipo de amortecedor, você também terá que definir o alinhamento de bytes para o amortecedor. Este valor variará dependendo dos dados que você deseja armazenar no buffer, e na maioria dos casos um valor de 1 é perfeitamente bom. Entretanto, esteja ciente de que
    para algumas operações é essencial um alinhamento específico, e um alinhamento incorreto pode causar erros (para mais detalhes sobre alinhamento, ver Buffers). O seguinte é um geral
    guia para mostrar quais valores são mais apropriados para cada tipo de dado (quando em dúvida, use um alinhamento de 1):
  
    As cordas devem ser alinhadas a 1 byte.
    Inteiros de 8 bits assinados ou não podem ser alinhados a qualquer valor, mas note que para um buffer rápido (veja buffer_write()) deve ser alinhado a 1.
    Inteiros de 16 bits assinados ou não assinados devem ser alinhados a 2 bytes.
    Os inteiros de 32 bits assinados ou não devem ser alinhados a 4 bytes
    Flutuadores de até 16bits devem ser alinhados a 2 bytes. (Não suportado atualmente!)
    Flutuadores de até 32bits devem ser alinhados a 4 bytes.
    Flutuadores de até 64bits devem ser alinhados a 8 bytes.
  
  NOTA: O alinhamento dos bytes pode ser muito importante, pois a escolha errada pode afetar negativamente o desempenho.
  NOTA: É importante que você remova da memória qualquer recurso criado dinamicamente como este quando não precisar mais deles para evitar vazamentos de memória, então quando terminar com o buffer que você criou, você deve liberá-lo novamente
    usando buffer_delete().
   
  Sintaxe:
  buffer_create(tamanho, tipo, alinhamento)
  
    
      
        Argumento
        Descrição
      
      
        tamanho
        O tamanho (em bytes) do buffer.
      
      
        tipo
        O tipo de buffer a criar (ver a lista de constantes acima).
      
      
        alinhamento
        O alinhamento de bytes para o buffer
      
    
  
   
  Devoluções:
  Int (ID do buffer Vertex)
   
  Exemplo:
  player_buffer = buffer_create(16384, buffer_fixed, 2);
  O código acima aloca 16384 bytes de memória a um buffer e retorna o índice desse buffer, que é armazenado na variável "player_buffer", para uso futuro. O buffer é alinhado a um limite de dois bytes.
   
   
   
  
    
      
        Voltar: Tampões
        Próximo: buffer_create_from_vertex_buffer
      
    
    © Copyright YoYo Games Ltd. 2021 Todos os direitos reservados
  
  
  

